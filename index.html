<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Audio Capture and Output</title>
</head>
<body>
<button id="startButton">Start</button>
<script>
  // This function will be called when the "Start" button is clicked
  async function startAudio() {
    try {
      // Request permission to access the microphone
      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });

      // Create an audio context
      const audioContext = new AudioContext();

      // Create a source node from the microphone input
      const source = audioContext.createMediaStreamSource(stream);

      // Connect the source node to the audio context's destination (the speakers)
      source.connect(audioContext.destination);

      // Update the button text to indicate that the audio is playing
      document.getElementById('startButton').innerText = 'Playing...';
    } catch (error) {
      // Log any errors that occur
      console.error('Error accessing the microphone:', error);
    }
  }

  // Add a click event listener to the "Start" button
  document.getElementById('startButton').addEventListener('click', startAudio);
</script>
</body>
</html>
